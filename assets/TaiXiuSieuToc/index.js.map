{"version":3,"sources":["assets/TaiXiuSieuToc/Scripts/TaiXiuST.PopupDetailHistory.ts","assets/TaiXiuSieuToc/Scripts/TaiXiuST.PopupHistory.ts","assets/TaiXiuSieuToc/Scripts/TaiXiuST.PopupHonors.ts","assets/TaiXiuSieuToc/Scripts/TaiXiuST.PopupSoiCau.ts","assets/TaiXiuSieuToc/Scripts/TaiXiuSieuToc.Cmd.ts","assets/TaiXiuSieuToc/Scripts/TaiXiuSieuToc.Controller.ts"],"names":["App_1","require","Dialog_1","Utils_1","TaiXiuSieuToc_NetworkClient_1","TaiXiuSieuToc_Controller_1","_a","cc","_decorator","ccclass","property","PopupDetailHistory","_super","_this","apply","this","arguments","lblSession","lblResult","lblPage","lblTotalBetTai","lblTotalBetXiu","lblTotalRefundTai","lblTotalRefundXiu","sfDices","sfTai","sfXiu","sprDice1","sprDice2","sprDice3","sprResult","sprResult_Tai","sprResult_Xiu","itemTemplate","items","inited","session","page","totalPage","historiesTai","historiesXiu","totalBetTai","totalRefundTai","totalBetXiu","totalRefundXiu","__extends","prototype","showDetail","show","call","default","instance","showBgMiniGame","node","active","string","i","length","instantiate","parent","push","_onShowed","loadData","showLoading","getInstance","getHistorySessionId","err","res","forEach","element","JSON","parse","itemData","Math","ceil","totalPoint","formatNumber","spriteFrame","Tween","stopAllByTarget","scale","tween","repeatForever","sequence","to","start","loadDataPage","time","idx","item","substring","indexOf","replace","getChildByName","getComponent","Label","actNextPage","actPrevPage","actNextSession","dataHis","historySoiCau","actPrevSession","__decorate","SpriteFrame","Sprite","Node","exports","TaiXiuSieuToc","PopupHistory","prefab","scroll","maxPage","Array","historyData","totalPageLoaded","onLoad","dismiss","content","removeAllChildren","isReloadScr","getHistory","loadHistory","datahistory","index","setItemData","scrollToTop","opacity","substr","color","Color","onScrollEvent","scrollview","eventType","ScrollView","EventType","SCROLL_TO_BOTTOM","ScrollViewControl_1","PopupHonors","sprRank","scrView","dataList","getTopHonor","initData","data","slice","setDataList","toString","x","PopupSoiCau","lineTemplate","iconTaiTemplate","iconXiuTemplate","iconXX1Template","iconXX2Template","iconXX3Template","iconNumberTaiTemplate","iconNumberXiuTemplate","page1","lblLastSession","xx1Draw","xx2Draw","xx3Draw","xx123Draw","page2","lblTai1","lblTai2","lblXiu1","lblXiu2","sprDot","contentDraw","drawPage1","toggleXX1","target","isChecked","toggleXX2","toggleXX3","togglePage","drawPage2","splice","last","lastDices","dices","lastScore","_i","reverse","score","startPosXX1","v2","startPosXX2","startPosXX3","startPosXX123","iconXX1","zIndex","setPosition","iconXX2","iconXX3","iconXX123","endPosXX1","endPosXX2","endPosXX3","endPosXX123","line","width","v2Distance","angle","v2Degrees","BLACK","fromHEX","startPosX","startPosY","curData","count","countTai","countXiu","isTai","_isTai","i_1","j","score_1","icon","children","column","row","cmd","Code","CMD_51S","CMD_50S","CMD_14S","CMD_BET","CMD_WIN_USER","CMD_REFUND_USER","CMD_HISTORY","CMD_TXRECORD_HISTORY","CMD_THONGKE_PHIEN","CMD_CHAT","CMD_CHAT_ALL","CMD_MAINTAIN","CMD_USER_BET","CMD_TOP_HONOR","CMD_DIS_TX","API","LOGIN","WS","USER","DISCONNECT","CHAT","HISTORY_BET","Configs_1","MiniGame_1","BroadcastReceiver_1","Tween_1","TaiXiuSieuToc_Cmd_1","BundleControl_1","TW","TaiXiuSieuTocController","scrollChat","chatNhanh","contentChatNhanh","lbTotalTai","lbTotalXiu","lbTotalBetTai","lbTotalBetXiu","lbBetXiu","lbBetTai","lbTimeCountDown","lbSession","lbTotalUserTai","lbTotalUserXiu","lbWin","lbScore","listFont","nodeBtnBet","nodeChat","nodeTxtTai","nodeTxtXiu","sprBtnBetXiu","sprBtnBetTai","bgGame","alertToast","nodeHistoryShort","popupContainer","bg_Score","bgLight","nodeBat","bgLighting","bgTime","edbChat","scrChat","dice1","dice2","dice3","dragon","table","sprDots","timeInBg","currentGate","totalBet","currentBet","result","totalResult","stateGame","isConnected","listChatHistory","listTimer","historySession","historyShort","popups","gameSubscribeId","currentBtnBet","timeConfirmBet","lastBetAmount","popupHonor","popupHistory","popupGuide","popupSoiCau","popupDetailSession","TaiXiuSieuTocController_1","winSize","self","this_1","on","onClickSendChatNhanh","childrenCount","toggleChatNhanh","onEnable","resetView","getChatHistory","setupTimeRunInBg","connect","addListener","subscribe","setTimeout","getHistorySession","id","y","timeCd","cd","at","ax","numberTo","ut","ux","setAnimation","WHITE","showToast","getTextLang","rs","unshift","loadListHistoryShort","showResultWin","easing","sineIn","tag","shakeDice","setDice","status","betamount","Login","Coin","send","USER_UPDATE_COIN","initListChat","addChat","u","m","data_1","amount","set","delay","register","USER_LOGOUT","game","EVENT_HIDE","sys","now","EVENT_SHOW","timeNow","timeHide","director","getActionManager","update","stopAllByTag","reOrder","showNodeChat","onDestroy","getAnimationDiceStart","randomRangeInt","sineOut","getAnimationDiceEnd","dice","anim","ranPre","onClick","loginGame","subcribeWS","onClickHonor","assetManager","getBundle","load","Prefab","err1","onClickHistory","onClickHistorySession","onClickSoiCau","onClickGuide","onClickClose","hideGameMini","onClickChat","onClickSendChat","Nickname","trim","sendChat","msg","onClickBet","even","parseInt","onClickAllIn","onClickConfirmBet","checkSubChannel","scheduleOnce","dataBet","taixiuId","loginname","typed","betFrom","isNative","os","OS_ANDROID","betfrom","sendBet","onClickCancelBet","setTimeCountDown","onClickChooseGate","showNodeBtnBet","state","btnBet","timeDelay","backOut","acScale1","acRotate1","acRotate2","acRotate3","acRotate4","acScale2","acSeqRo1","repeat","parallel","_loop_2","this_2","addChild","setContentSize","size","getComponentInChildren","backIn","CHILD_ADDED","onScrollChatEvent","reloadListChat","actTransaction","IsLogin","popupTransaction","loadPrefabPopup","popupDaily","alertDialog","showMsg","name","destroy","view","posWorld","convertToWorldSpaceAR","getPosition","posInView","convertToNodeSpaceAR","height","Font","EditBox","sp","Skeleton"],"mappings":"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","sourcesContent":["import Configs from \"../../Loading/src/Configs\";\r\nimport Http from \"../../Loading/src/Http\";\r\nimport App from \"../../Lobby/LobbyScript/Script/common/App\";\r\nimport Dialog from \"../../Lobby/LobbyScript/Script/common/Dialog\";\r\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\r\nimport TaiXiuSTNetworkClient from \"../../Lobby/LobbyScript/Script/networks/TaiXiuSieuToc.NetworkClient\";\r\nimport TaiXiuSieuTocController from \"./TaiXiuSieuToc.Controller\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PopupDetailHistory extends Dialog {\r\n    @property(cc.Label)\r\n    lblSession: cc.Label = null;\r\n    @property(cc.Label)\r\n    lblResult: cc.Label = null;\r\n    @property(cc.Label)\r\n    lblPage: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lblTotalBetTai: cc.Label = null;\r\n    @property(cc.Label)\r\n    lblTotalBetXiu: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lblTotalRefundTai: cc.Label = null;\r\n    @property(cc.Label)\r\n    lblTotalRefundXiu: cc.Label = null;\r\n\r\n    @property([cc.SpriteFrame])\r\n    sfDices: cc.SpriteFrame[] = [];\r\n    @property(cc.SpriteFrame)\r\n    sfTai: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    sfXiu: cc.SpriteFrame = null;\r\n\r\n    @property(cc.Sprite)\r\n    sprDice1: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    sprDice2: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    sprDice3: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    sprResult: cc.Sprite = null;\r\n    @property(cc.Node)\r\n    sprResult_Tai: cc.Node = null;\r\n    @property(cc.Node)\r\n    sprResult_Xiu: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    itemTemplate: cc.Node = null;\r\n\r\n    private items: cc.Node[] = [];\r\n    private inited = false;\r\n    private session: number = 0;\r\n    private page: number = 1;\r\n    private totalPage: number = 1;\r\n    private historiesTai = [];\r\n    private historiesXiu = [];\r\n    private totalBetTai = 0;\r\n    private totalRefundTai = 0;\r\n    private totalBetXiu = 0;\r\n    private totalRefundXiu = 0;\r\n\r\n    showDetail(session: number) {\r\n        this.session = session;\r\n        this.show();\r\n    }\r\n\r\n    show() {\r\n        super.show();\r\n        App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n        this.sprDice1.node.active = false;\r\n        this.sprDice2.node.active = false;\r\n        this.sprDice3.node.active = false;\r\n        // this.sprResult.node.active = false;\r\n        this.lblSession.string = \"Phiên: #\" + this.session;\r\n        this.lblResult.string = \"\";\r\n\r\n        if (this.inited) {\r\n            for (let i = 0; i < this.items.length; i++) {\r\n                this.items[i].active = false;\r\n            }\r\n            return;\r\n        }\r\n        this.itemTemplate.active = false;\r\n        for (let i = 0; i < 9; i++) {\r\n            let node = cc.instantiate(this.itemTemplate);\r\n            node.parent = this.itemTemplate.parent;\r\n            node.active = false;\r\n            this.items.push(node);\r\n        }\r\n        this.inited = true;\r\n    }\r\n\r\n    _onShowed() {\r\n        super._onShowed();\r\n        this.loadData();\r\n    }\r\n\r\n    private loadData() {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            this.items[i].active = false;\r\n        }\r\n        this.sprDice1.node.active = false;\r\n        this.sprDice2.node.active = false;\r\n        this.sprDice3.node.active = false;\r\n        // this.sprResult.node.active = false;\r\n        this.lblSession.string = \"Phiên: #\" + this.session;\r\n        this.lblResult.string = \"\";\r\n        this.totalBetTai = 0;\r\n        this.totalBetXiu = 0;\r\n        this.totalRefundTai = 0;\r\n        this.totalRefundXiu = 0;\r\n        App.instance.showLoading(true);\r\n        TaiXiuSTNetworkClient.getInstance().getHistorySessionId(this.session, (err, res) => {\r\n            if (err != null) return;\r\n            this.historiesTai = [];\r\n            this.historiesXiu = [];\r\n            App.instance.showLoading(false);\r\n            if (res[\"result\"] !== null) {\r\n                if (res['lstData'] != null && res['lstData'].length > 0) {\r\n                    res['lstData'].forEach(element => {\r\n                        element['result'] = JSON.parse(element['result']);\r\n                        element\r\n                    });\r\n                }\r\n                res['result'] = JSON.parse(res['result']);\r\n                for (var i = 0; i < res[\"lstData\"].length; i++) {\r\n                    var itemData = res[\"lstData\"][i];\r\n                    if (itemData[\"typed\"] === 1) {\r\n                        this.historiesTai.push(itemData);\r\n                        this.totalBetTai += itemData[\"betamount\"];\r\n                        this.totalRefundTai += itemData[\"refundamount\"];\r\n\r\n                    } else {\r\n                        this.historiesXiu.push(itemData);\r\n                        this.totalBetXiu += itemData[\"betamount\"];\r\n                        this.totalRefundXiu += itemData[\"refundamount\"];\r\n                    }\r\n                }\r\n\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    this.items[i].active = false;\r\n                }\r\n\r\n                this.page = 1;\r\n                this.totalPage = this.historiesXiu.length > this.historiesTai.length ? this.historiesXiu.length : this.historiesTai.length;\r\n                this.totalPage = Math.ceil(this.totalPage / this.items.length);\r\n                this.lblPage.string = this.page + \"/\" + this.totalPage;\r\n\r\n                this.lblSession.string = \"Phiên: #\" + res[\"id\"];\r\n                let totalPoint = res[\"result\"][0] + res[\"result\"][1] + res[\"result\"][2];\r\n                this.lblResult.string = totalPoint > 10\r\n                    ? \" - Tài \" + totalPoint + \"(\" + res[\"result\"][0] + \"-\" + res[\"result\"][1] + \"-\" + res[\"result\"][2] + \")\"\r\n                    : \" - Xỉu \" + totalPoint + \"(\" + res[\"result\"][0] + \"-\" + res[\"result\"][1] + \"-\" + res[\"result\"][2] + \")\";\r\n                this.lblTotalBetTai.string = Utils.formatNumber(this.totalBetTai) + \" / \" + Utils.formatNumber(this.totalRefundTai);\r\n                this.lblTotalBetXiu.string = Utils.formatNumber(this.totalBetXiu) + \" / \" + Utils.formatNumber(this.totalRefundXiu);\r\n\r\n                this.sprDice1.spriteFrame = this.sfDices[res[\"result\"][0]];\r\n                this.sprDice1.node.active = true;\r\n                this.sprDice2.spriteFrame = this.sfDices[res[\"result\"][1]];\r\n                this.sprDice2.node.active = true;\r\n                this.sprDice3.spriteFrame = this.sfDices[res[\"result\"][2]];\r\n                this.sprDice3.node.active = true;\r\n\r\n                // this.sprResult.spriteFrame = res[\"lstData\"][\"result\"] == 1 ? this.sfTai : this.sfXiu;\r\n                if (totalPoint > 10) {\r\n                    cc.Tween.stopAllByTarget(this.sprResult_Tai);\r\n                    cc.Tween.stopAllByTarget(this.sprResult_Xiu);\r\n                    this.sprResult_Tai.scale = 0.6;\r\n                    this.sprResult_Xiu.scale = 0.6;\r\n                    cc.tween(this.sprResult_Tai).repeatForever(\r\n                        cc.tween().sequence(cc.tween().to(0.3,\r\n                            { scale: 0.7 }),\r\n                            cc.tween().to(0.3, { scale: 0.6 }),\r\n                            cc.tween().to(0.3, { scale: 0.5 }),\r\n                            cc.tween().to(0.3, { scale: 0.6 })))\r\n                        .start();\r\n                } else {\r\n                    cc.Tween.stopAllByTarget(this.sprResult_Tai);\r\n                    cc.Tween.stopAllByTarget(this.sprResult_Xiu);\r\n                    this.sprResult_Tai.scale = 0.6;\r\n                    this.sprResult_Xiu.scale = 0.6;\r\n                    cc.tween(this.sprResult_Xiu).repeatForever(\r\n                        cc.tween().sequence(\r\n                            cc.tween().to(0.3, { scale: 0.7 }),\r\n                            cc.tween().to(0.3, { scale: 0.6 }),\r\n                            cc.tween().to(0.3, { scale: 0.5 }),\r\n                            cc.tween().to(0.3, { scale: 0.6 })))\r\n                        .start();\r\n                }\r\n                // this.sprResult.node.active = true;\r\n\r\n                this.loadDataPage();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private loadDataPage() {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var idx = (this.page - 1) * this.items.length + i;\r\n            var item = this.items[i];\r\n            item.active = true;\r\n\r\n            if (idx < this.historiesTai.length) {\r\n                var itemData = this.historiesTai[idx];\r\n                let time = itemData['bettime'];\r\n                time = time.substring(0, time.indexOf(\".\"));\r\n                time = time.replace(\"T\", \"\\n\");\r\n                item.getChildByName(\"Time\").getComponent(cc.Label).string = time;\r\n                item.getChildByName(\"Account\").getComponent(cc.Label).string = itemData[\"loginname\"];\r\n                item.getChildByName(\"Refund\").getComponent(cc.Label).string = Utils.formatNumber(itemData[\"refundamount\"]);\r\n                item.getChildByName(\"Bet\").getComponent(cc.Label).string = Utils.formatNumber(itemData[\"betamount\"]);\r\n            } else {\r\n                item.getChildByName(\"Time\").getComponent(cc.Label).string = \"\";\r\n                item.getChildByName(\"Account\").getComponent(cc.Label).string = \"\";\r\n                item.getChildByName(\"Refund\").getComponent(cc.Label).string = \"\";\r\n                item.getChildByName(\"Bet\").getComponent(cc.Label).string = \"\";\r\n            }\r\n\r\n            if (idx < this.historiesXiu.length) {\r\n                var itemData = this.historiesXiu[idx];\r\n                let time = itemData['bettime'];\r\n                time = time.substring(0, time.indexOf(\".\"));\r\n                time = time.replace(\"T\", \"\\n\");\r\n                item.getChildByName(\"Time2\").getComponent(cc.Label).string =time;\r\n                item.getChildByName(\"Account2\").getComponent(cc.Label).string = itemData[\"loginname\"];\r\n                item.getChildByName(\"Refund2\").getComponent(cc.Label).string = Utils.formatNumber(itemData[\"refundamount\"]);\r\n                item.getChildByName(\"Bet2\").getComponent(cc.Label).string = Utils.formatNumber(itemData[\"betamount\"]);\r\n            } else {\r\n                item.getChildByName(\"Time2\").getComponent(cc.Label).string = \"\";\r\n                item.getChildByName(\"Account2\").getComponent(cc.Label).string = \"\";\r\n                item.getChildByName(\"Refund2\").getComponent(cc.Label).string = \"\";\r\n                item.getChildByName(\"Bet2\").getComponent(cc.Label).string = \"\";\r\n            }\r\n        }\r\n        this.lblPage.string = this.page + \"/\" + this.totalPage;\r\n    }\r\n\r\n    public actNextPage() {\r\n        this.page++;\r\n        if (this.page > this.totalPage) this.page = this.totalPage;\r\n        this.loadDataPage();\r\n    }\r\n\r\n    public actPrevPage() {\r\n        this.page--;\r\n        if (this.page < 1) this.page = 1;\r\n        this.loadDataPage();\r\n    }\r\n\r\n    public actNextSession() {\r\n        this.session++;\r\n        let dataHis = TaiXiuSieuTocController.instance.historySoiCau;\r\n        if (this.session > dataHis[dataHis.length - 1].session) {\r\n            this.session = dataHis[dataHis.length - 1].session;\r\n            return;\r\n        }\r\n        this.loadData();\r\n    }\r\n\r\n    public actPrevSession() {\r\n        this.session--;\r\n        this.loadData();\r\n    }\r\n}\r\n","import Configs from \"../../Loading/src/Configs\";\r\nimport Http from \"../../Loading/src/Http\";\r\nimport App from \"../../Lobby/LobbyScript/Script/common/App\";\r\nimport Dialog from \"../../Lobby/LobbyScript/Script/common/Dialog\";\r\nimport ScrollViewControl from \"../../Lobby/LobbyScript/Script/common/ScrollViewControl\";\r\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\r\nimport TaiXiuSTNetworkClient from \"../../Lobby/LobbyScript/Script/networks/TaiXiuSieuToc.NetworkClient\";\r\nimport cmd from \"./TaiXiuSieuToc.Cmd\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\nnamespace TaiXiuSieuToc {\r\n    @ccclass\r\n    export class PopupHistory extends Dialog {\r\n\r\n        @property(cc.Label)\r\n        lblPage: cc.Label = null;\r\n\r\n        @property(cc.Node)\r\n        prefab: cc.Node = null;\r\n        @property(cc.ScrollView)\r\n        scroll: cc.ScrollView = null;\r\n\r\n        // @property([cc.BitmapFont])\r\n        // fontNumber: cc.BitmapFont[] = [];\r\n\r\n        private page: number = 1;\r\n        private maxPage: number = 1;\r\n        private items = new Array<cc.Node>();\r\n        private historyData = [];\r\n        private totalPageLoaded = 0;\r\n\r\n        onLoad() {\r\n\r\n        }\r\n\r\n        show() {\r\n            super.show();\r\n            App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n            this.historyData = [];\r\n            this.totalPageLoaded = 0;\r\n            for (let i = 0; i < this.items.length; i++) {\r\n                this.items[i].active = false;\r\n            }\r\n        }\r\n\r\n        dismiss() {\r\n            super.dismiss();\r\n            this.scroll.content.removeAllChildren();\r\n            for (let i = 0; i < this.items.length; i++) {\r\n                this.items[i].active = false;\r\n            }\r\n        }\r\n\r\n        _onShowed() {\r\n            super._onShowed();\r\n\r\n            this.page = 1;\r\n            this.maxPage = 1;\r\n            this.lblPage.string = this.page + \"/\" + this.maxPage;\r\n            this.loadData();\r\n        }\r\n\r\n        actNextPage() {\r\n            if (this.page < this.maxPage) {\r\n                this.page++;\r\n                this.lblPage.string = this.page + \"/\" + this.maxPage;\r\n                this.loadData();\r\n            }\r\n        }\r\n\r\n        actPrevPage() {\r\n            if (this.page > 1) {\r\n                this.page--;\r\n                this.lblPage.string = this.page + \"/\" + this.maxPage;\r\n                this.loadData();\r\n            }\r\n        }\r\n\r\n        private loadData(isReloadScr = true) {\r\n            App.instance.showLoading(true);\r\n            TaiXiuSTNetworkClient.getInstance().getHistory(this.page - 1, 10, (err, res) => {\r\n                App.instance.showLoading(false);\r\n                if (err != null) {\r\n                    //  cc.log(\"err:\", err);\r\n                    return;\r\n                };\r\n                if (res[\"message\"] != \"SUCCES\") return;\r\n                // this.totalPageLoaded++;\r\n                this.maxPage = res[\"totalPages\"];\r\n                this.lblPage.string = this.page + \"/\" + this.maxPage;\r\n                this.loadHistory(res[\"content\"]);\r\n            });\r\n        }\r\n        loadHistory(datahistory) {\r\n            this.scroll.content.removeAllChildren();\r\n            for (var i = 0; i < datahistory.length; i++) {\r\n                var node = cc.instantiate(this.prefab);\r\n                node.parent = this.scroll.content;\r\n                datahistory[i].index = i;\r\n                this.setItemData(node, datahistory[i]);\r\n            }\r\n            this.scroll.scrollToTop(0.3);\r\n        }\r\n        setItemData(item, itemData) {\r\n            let index = itemData['index']\r\n            item.getChildByName(\"bg\").opacity = index % 2 == 0 ? 255 : 0;\r\n            item.getChildByName(\"lblSession\").getComponent(cc.Label).string = \"#\" + itemData[\"taixiuId\"];\r\n            let time = itemData[\"bettime\"];\r\n            time = time.substr(0, time.indexOf(\".\"));\r\n            item.getChildByName(\"lblTime\").getComponent(cc.Label).string = time.replace(\"T\", \"\\n\");\r\n            item.getChildByName(\"lblBetDoor\").getComponent(cc.Label).string = itemData[\"typed\"] == 1 ? \"TÀI\" : \"XỈU\";\r\n            item.getChildByName(\"lblResult\").getComponent(cc.Label).string = itemData[\"description\"] == null ? \"Chưa có kết quả\" : itemData[\"description\"];\r\n            item.getChildByName(\"lblBet\").getComponent(cc.Label).string = Utils.formatNumber(itemData[\"betamount\"]);\r\n            item.getChildByName(\"lblRefund\").getComponent(cc.Label).string = Utils.formatNumber(itemData[\"refundamount\"]);\r\n            item.getChildByName(\"lblRefund\").getComponent(cc.Label).node.color = itemData['refundamount'] > 0 ? new cc.Color(240, 191, 11) : new cc.Color(240, 48, 11);\r\n            item.getChildByName(\"lblWin\").getComponent(cc.Label).string = Utils.formatNumber(itemData[\"winamount\"]);\r\n            item.getChildByName(\"lblWin\").getComponent(cc.Label).node.color = itemData['winamount'] > 0 ? new cc.Color(240, 191, 11) : new cc.Color(240, 48, 11);\r\n            item.active = true;\r\n        }\r\n        onScrollEvent(scrollview, eventType, customEventData) {\r\n            if (eventType == cc.ScrollView.EventType.SCROLL_TO_BOTTOM) {\r\n                if (this.page < this.maxPage) {\r\n                    this.page++;\r\n                    this.loadData(false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\nexport default TaiXiuSieuToc.PopupHistory;","import App from \"../../Lobby/LobbyScript/Script/common/App\";\r\nimport Dialog from \"../../Lobby/LobbyScript/Script/common/Dialog\";\r\nimport ScrollViewControl from \"../../Lobby/LobbyScript/Script/common/ScrollViewControl\";\r\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\r\nimport TaiXiuSTNetworkClient from \"../../Lobby/LobbyScript/Script/networks/TaiXiuSieuToc.NetworkClient\";\r\n\r\n\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\nnamespace TaiXiuSieuToc {\r\n    @ccclass\r\n    export class PopupHonors extends Dialog {\r\n        @property(cc.Node)\r\n        itemTemplate: cc.Node = null;\r\n        @property([cc.SpriteFrame])\r\n        sprRank: cc.SpriteFrame[] = [];\r\n        private items = new Array<cc.Node>();\r\n        @property(ScrollViewControl)\r\n        scrView: ScrollViewControl = null;\r\n        private dataList = [];\r\n\r\n        show() {\r\n            super.show();\r\n            App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n            for (let i = 0; i < this.items.length; i++) {\r\n                this.items[i].active = false;\r\n            }\r\n            if (this.itemTemplate != null) this.itemTemplate.active = false;\r\n\r\n\r\n        }\r\n\r\n        dismiss() {\r\n            super.dismiss();\r\n            for (let i = 0; i < this.items.length; i++) {\r\n                this.items[i].active = false;\r\n            }\r\n        }\r\n\r\n        _onShowed() {\r\n            super._onShowed();\r\n            this.loadData();\r\n        }\r\n\r\n        private loadData() {\r\n            App.instance.showLoading(true);\r\n            TaiXiuSTNetworkClient.getInstance().getTopHonor();\r\n        }\r\n        initData(data) {\r\n            this.dataList = data.slice();\r\n            let cb = (item, itemData) => {\r\n                item.getChildByName(\"bg\").opacity = item['itemID'] % 2 == 0 ? 255 : 0;\r\n\r\n                item.getChildByName(\"lblRank\").getComponent(cc.Label).string = (item['itemID'] + 1).toString();\r\n                item.getChildByName(\"lblAccount\").getComponent(cc.Label).string = itemData[\"loginname\"];\r\n                item.getChildByName(\"lblWin\").getComponent(cc.Label).string = Utils.formatNumber(itemData[\"amount\"]);\r\n                if (item['itemID'] < 3) {\r\n                    item.getChildByName(\"ic_rank\").active = true;\r\n                    item.getChildByName(\"lblRank\").active = false;\r\n                    item.getChildByName(\"ic_rank\").getComponent(cc.Sprite).spriteFrame = this.sprRank[itemData['index']];\r\n                    if (itemData['index'] == 2) {\r\n                        item.getChildByName(\"ic_rank\").x = -235.622\r\n                    } else {\r\n                        item.getChildByName(\"ic_rank\").x = -239.622\r\n                    }\r\n                } else {\r\n                    item.getChildByName(\"ic_rank\").active = false;\r\n                    item.getChildByName(\"lblRank\").active = true;\r\n                }\r\n                item.active = true;\r\n            };\r\n            this.scrView.setDataList(cb, this.dataList);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default TaiXiuSieuToc.PopupHonors;","import App from \"../../Lobby/LobbyScript/Script/common/App\";\r\nimport Dialog from \"../../Lobby/LobbyScript/Script/common/Dialog\";\r\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\r\nimport TaiXiuSieuTocController from \"./TaiXiuSieuToc.Controller\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\nnamespace TaiXiuSieuToc {\r\n    @ccclass\r\n    export class PopupSoiCau extends Dialog {\r\n        @property(cc.Node)\r\n        lineTemplate: cc.Node = null;\r\n\r\n        @property(cc.Node)\r\n        iconTaiTemplate: cc.Node = null;\r\n        @property(cc.Node)\r\n        iconXiuTemplate: cc.Node = null;\r\n\r\n        @property(cc.Node)\r\n        iconXX1Template: cc.Node = null;\r\n        @property(cc.Node)\r\n        iconXX2Template: cc.Node = null;\r\n        @property(cc.Node)\r\n        iconXX3Template: cc.Node = null;\r\n\r\n        @property(cc.Node)\r\n        iconNumberTaiTemplate: cc.Node = null;\r\n        @property(cc.Node)\r\n        iconNumberXiuTemplate: cc.Node = null;\r\n\r\n        @property(cc.Node)\r\n        page1: cc.Node = null;\r\n        @property(cc.Label)\r\n        lblLastSession: cc.Label = null;\r\n        @property(cc.Node)\r\n        xx1Draw: cc.Node = null;\r\n        @property(cc.Node)\r\n        xx2Draw: cc.Node = null;\r\n        @property(cc.Node)\r\n        xx3Draw: cc.Node = null;\r\n        @property(cc.Node)\r\n        xx123Draw: cc.Node = null;\r\n\r\n        @property(cc.Node)\r\n        page2: cc.Node = null;\r\n        @property(cc.Label)\r\n        lblTai1: cc.Label = null;\r\n        @property(cc.Label)\r\n        lblTai2: cc.Label = null;\r\n        @property(cc.Label)\r\n        lblXiu1: cc.Label = null;\r\n        @property(cc.Label)\r\n        lblXiu2: cc.Label = null;\r\n        @property([cc.SpriteFrame])\r\n        sprDot: cc.SpriteFrame[] = [];\r\n        @property(cc.Node)\r\n        contentDraw: cc.Node = null;\r\n\r\n        show() {\r\n            super.show();\r\n            App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n            this.page1.active = false;\r\n            this.page2.active = false;\r\n            this.lineTemplate.parent.active = false;\r\n        }\r\n\r\n        dismiss() {\r\n            super.dismiss();\r\n            this.page1.active = false;\r\n            this.page2.active = false;\r\n        }\r\n\r\n        _onShowed() {\r\n            super._onShowed();\r\n\r\n            this.drawPage1();\r\n            this.page1.active = true;\r\n            this.page2.active = false;\r\n        }\r\n\r\n        toggleXX1(target: cc.Toggle) {\r\n            this.xx1Draw.active = target.isChecked;\r\n        }\r\n\r\n        toggleXX2(target: cc.Toggle) {\r\n            this.xx2Draw.active = target.isChecked;\r\n        }\r\n\r\n        toggleXX3(target: cc.Toggle) {\r\n            this.xx3Draw.active = target.isChecked;\r\n        }\r\n\r\n        togglePage() {\r\n            this.page1.active = !this.page1.active;\r\n            this.page2.active = !this.page1.active;\r\n            if (this.page1.active) {\r\n                this.drawPage1();\r\n            } else {\r\n                this.drawPage2();\r\n            }\r\n        }\r\n\r\n        private drawPage1() {\r\n\r\n            var data = TaiXiuSieuTocController.instance.historySoiCau.slice();\r\n            if (data.length > 21) {\r\n                data = data.splice(0, 21);\r\n            }\r\n\r\n            var last = data[0];\r\n            var lastDices = last.dices;\r\n            var lastScore = lastDices[0] + lastDices[1] + lastDices[2];\r\n            this.lblLastSession.string = \"Phiên gần nhất: (#\" + last.session + \")  \" + (lastScore >= 11 ? \"TÀI\" : \"XỈU\") + \"  \" + lastScore + \"(\" + lastDices[0] + \"-\" + lastDices[1] + \"-\" + lastDices[2] + \")\";\r\n\r\n            let endPosX = 337.215;\r\n            let startPosY = -274.135;\r\n            let startPosY123 = -13.907;\r\n            this.xx1Draw.removeAllChildren();\r\n            this.xx2Draw.removeAllChildren();\r\n            this.xx3Draw.removeAllChildren();\r\n            this.xx123Draw.removeAllChildren();\r\n\r\n            let _i = 0;\r\n            var spacingX = 31.83;\r\n            var spacingY = 31;\r\n            data = data.reverse();\r\n            for (let i = data.length - 1; i >= 0; i--) {\r\n                var dices = data[i].dices;\r\n                var score = dices[0] + dices[1] + dices[2];\r\n\r\n                let startPosXX1 = cc.v2(endPosX - _i * spacingX, startPosY + (dices[0] - 1) * spacingY);\r\n                let startPosXX2 = cc.v2(endPosX - _i * spacingX, startPosY + (dices[1] - 1) * spacingY);\r\n                let startPosXX3 = cc.v2(endPosX - _i * spacingX, startPosY + (dices[2] - 1) * spacingY);\r\n                let startPosXX123 = cc.v2(endPosX - _i * spacingX, startPosY123 + (score - 3) * (spacingY / 3));\r\n\r\n                let iconXX1 = cc.instantiate(this.iconXX1Template);\r\n                iconXX1.parent = this.xx1Draw;\r\n                iconXX1.zIndex = 5;\r\n                iconXX1.setPosition(startPosXX1);\r\n\r\n                let iconXX2 = cc.instantiate(this.iconXX2Template);\r\n                iconXX2.parent = this.xx2Draw;\r\n                iconXX2.zIndex = 5;\r\n                iconXX2.setPosition(startPosXX2);\r\n\r\n                let iconXX3 = cc.instantiate(this.iconXX3Template);\r\n                iconXX3.parent = this.xx3Draw;\r\n                iconXX3.zIndex = 5;\r\n                iconXX3.setPosition(startPosXX3);\r\n\r\n                let iconXX123 = cc.instantiate(score >= 11 ? this.iconTaiTemplate : this.iconXiuTemplate);\r\n                let result = score >= 11 ? \"tai\" : \"xiu\";\r\n                iconXX123.parent = this.xx123Draw;\r\n                iconXX123.setPosition(startPosXX123);\r\n\r\n                if (_i > 0) {\r\n                    dices = data[i + 1].dices;\r\n                    score = dices[0] + dices[1] + dices[2];\r\n\r\n                    let endPosXX1 = cc.v2(endPosX - (_i - 1) * spacingX, startPosY + (dices[0] - 1) * spacingY);\r\n                    let endPosXX2 = cc.v2(endPosX - (_i - 1) * spacingX, startPosY + (dices[1] - 1) * spacingY);\r\n                    let endPosXX3 = cc.v2(endPosX - (_i - 1) * spacingX, startPosY + (dices[2] - 1) * spacingY);\r\n                    let endPosXX123 = cc.v2(endPosX - (_i - 1) * spacingX, startPosY123 + (score - 3) * (spacingY / 3));\r\n\r\n                    let line = cc.instantiate(this.lineTemplate);\r\n                    line.parent = this.xx1Draw;\r\n                    line.width = Utils.v2Distance(startPosXX1, endPosXX1);\r\n                    line.setPosition(startPosXX1);\r\n                    line.angle = Utils.v2Degrees(startPosXX1, endPosXX1);\r\n                    line.color = cc.Color.BLACK.fromHEX(\"#c7452b\");\r\n                    line.zIndex = 0;\r\n\r\n                    line = cc.instantiate(this.lineTemplate);\r\n                    line.parent = this.xx2Draw;\r\n                    line.width = Utils.v2Distance(startPosXX2, endPosXX2);\r\n                    line.setPosition(startPosXX2);\r\n                    line.angle = Utils.v2Degrees(startPosXX2, endPosXX2);\r\n                    line.color = cc.Color.BLACK.fromHEX(\"#9fd100\");\r\n                    line.zIndex = 0;\r\n\r\n                    line = cc.instantiate(this.lineTemplate);\r\n                    line.parent = this.xx3Draw;\r\n                    line.width = Utils.v2Distance(startPosXX3, endPosXX3);\r\n                    line.setPosition(startPosXX3);\r\n                    line.angle = Utils.v2Degrees(startPosXX3, endPosXX3);\r\n                    line.color = cc.Color.BLACK.fromHEX(\"#3980d8\");\r\n                    line.zIndex = 0;\r\n\r\n                    line = cc.instantiate(this.lineTemplate);\r\n                    line.parent = this.xx123Draw;\r\n                    line.width = Utils.v2Distance(startPosXX123, endPosXX123);\r\n                    line.setPosition(startPosXX123);\r\n                    line.angle = Utils.v2Degrees(startPosXX123, endPosXX123);\r\n                    line.color = cc.Color.BLACK.fromHEX(\"#fdfdfb\");\r\n                    line.zIndex = -1;\r\n                }\r\n\r\n                _i++;\r\n            }\r\n        }\r\n\r\n        private drawPage2() {\r\n            var startPosX = -295.979;\r\n            var startPosY = 113.257;\r\n            var spacingX = 32.5;\r\n            var spacingY = 32;\r\n\r\n            this.contentDraw.removeAllChildren();\r\n            var data = [];\r\n            var curData = [];\r\n            var count = TaiXiuSieuTocController.instance.historySoiCau.length;\r\n            var countTai = 0;\r\n            var countXiu = 0;\r\n            if (count > 1) {\r\n                var dices = TaiXiuSieuTocController.instance.historySoiCau[0].dices;\r\n                var score = dices[0] + dices[1] + dices[2];\r\n                var isTai = score >= 11;\r\n                var maxItem = 5;\r\n                for (var i = 0; i < count; i++) {\r\n                    dices = TaiXiuSieuTocController.instance.historySoiCau[i].dices;\r\n                    score = dices[0] + dices[1] + dices[2];\r\n                    var _isTai = score >= 11;\r\n                    if (_isTai !== isTai) {\r\n                        if (curData.length > maxItem) {\r\n                            curData.splice(0, curData.length - maxItem);\r\n                        }\r\n                        data.push(curData);\r\n                        if (isTai) {\r\n                            countTai += curData.length;\r\n                        } else {\r\n                            countXiu += curData.length;\r\n                        }\r\n\r\n                        isTai = _isTai;\r\n                        curData = [];\r\n                        curData.push(score);\r\n                    } else {\r\n                        curData.push(score);\r\n                    }\r\n                    if (i === count - 1) {\r\n                        if (curData.length > maxItem) {\r\n                            curData.splice(0, curData.length - maxItem);\r\n                        }\r\n                        data.push(curData);\r\n                        if (isTai) {\r\n                            countTai += curData.length;\r\n                        } else {\r\n                            countXiu += curData.length;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (data.length > 20) {\r\n                data = data.splice(0, 20);\r\n            }\r\n            data=data.reverse();\r\n            this.lblTai1.string = countTai + \"\";\r\n            this.lblXiu1.string = countXiu + \"\";\r\n            for (let i = 0; i < data.length; i++) {\r\n                for (let j = 0; j < data[i].length; j++) {\r\n                    let score = data[i][j];\r\n                    let icon = null;\r\n                    if (score >= 11) {\r\n                        icon = cc.instantiate(this.iconNumberTaiTemplate);\r\n                    }\r\n                    else {\r\n                        icon = cc.instantiate(this.iconNumberXiuTemplate);\r\n                    }\r\n                    icon.parent = this.contentDraw;\r\n                    icon.setPosition(cc.v2(startPosX + spacingX * i, startPosY - spacingY * j));\r\n                    icon.children[0].getComponent(cc.Label).string = \"\" + score;\r\n                }\r\n            }\r\n\r\n            startPosX = -295.979;\r\n            startPosY = -127.113;\r\n            var column = 0;\r\n            var row = 0;\r\n            var countTai = 0;\r\n            var countXiu = 0;\r\n            var data = TaiXiuSieuTocController.instance.historySoiCau.slice();\r\n            if (data.length > 100) {\r\n                data.splice(0, data.length - 100);\r\n            }\r\n            data=data.reverse();\r\n            for (var i = 0; i < data.length; i++) {\r\n                var score = data[i].dices[0] + data[i].dices[1] + data[i].dices[2];\r\n                if (score >= 11) {\r\n                    countTai++;\r\n                } else {\r\n                    countXiu++;\r\n                }\r\n\r\n                let iconXX123 = cc.instantiate(score >= 11 ? this.iconTaiTemplate : this.iconXiuTemplate);\r\n                iconXX123.parent = this.contentDraw;\r\n                iconXX123.setPosition(startPosX + spacingX * column, startPosY - spacingY * row - 2);\r\n\r\n                row++;\r\n                if (row >= 5) {\r\n                    row = 0;\r\n                    column++;\r\n                }\r\n            }\r\n            this.lblTai2.string = countTai + \"\";\r\n            this.lblXiu2.string = countXiu + \"\";\r\n        }\r\n    }\r\n}\r\nexport default TaiXiuSieuToc.PopupSoiCau;","\r\n\r\nexport namespace cmd {\r\n    export class Code {\r\n        static CMD_51S = 5;\r\n        static CMD_50S = 1;\r\n        static CMD_14S = 2;\r\n        static CMD_BET = 3;\r\n        static CMD_WIN_USER = 4;\r\n        static CMD_REFUND_USER = 7;\r\n        static CMD_HISTORY = 6;\r\n        static CMD_TXRECORD_HISTORY = 8;\r\n        static CMD_THONGKE_PHIEN = 9;\r\n        static CMD_CHAT = 10;\r\n        static CMD_CHAT_ALL = 11;\r\n        static CMD_MAINTAIN = 12;\r\n        static CMD_USER_BET = 13;\r\n        static CMD_TOP_HONOR = 14;\r\n        static CMD_DIS_TX = 20;\r\n    }\r\n    export class API {\r\n        static LOGIN = \"api/login\";\r\n        static WS = \"websocket/ws-taixiu\";\r\n        static USER = \"/user/queue/tx\";\r\n        static DISCONNECT = \"/queue/disconnect\";\r\n        static CHAT = \"/topic/chats\"\r\n        static HISTORY_BET = 'api/tx/lichsucuoc';\r\n    }\r\n}\r\nexport default cmd;\r\n","import Configs from \"../../Loading/src/Configs\";\r\nimport { Global } from \"../../Loading/src/Global\";\r\nimport MiniGame from \"../../Lobby/LobbyScript/MiniGame\";\r\nimport App from \"../../Lobby/LobbyScript/Script/common/App\";\r\nimport BroadcastReceiver from \"../../Lobby/LobbyScript/Script/common/BroadcastReceiver\";\r\nimport Tween from \"../../Lobby/LobbyScript/Script/common/Tween\";\r\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\r\nimport TaiXiuSTNetworkClient from \"../../Lobby/LobbyScript/Script/networks/TaiXiuSieuToc.NetworkClient\";\r\nimport cmd from \"./TaiXiuSieuToc.Cmd\";\r\nimport PopupDetailHistory from \"./TaiXiuST.PopupDetailHistory\";\r\nimport TaiXiuSTPopupHistory from \"./TaiXiuST.PopupHistory\";\r\nimport TaiXiuSTPopupHonors from \"./TaiXiuST.PopupHonors\";\r\nimport TaiXiuSTPopupSoiCau from \"./TaiXiuST.PopupSoiCau\";\r\nimport BundleControl from \"../../Loading/src/BundleControl\";\r\nconst { ccclass, property } = cc._decorator;\r\nvar TW = cc.tween;\r\nvar STATE_GAME = {\r\n    BET: 1,\r\n    SHAKE: 2,\r\n    RESULT: 3,\r\n    PREPARE_RESULT: 4\r\n}\r\nvar ANIM_STATE = {\r\n    DRAGON_NORMAL: \"animation_dragon_only\",\r\n    DRAGON_X2SPEED: \"animation_dragon_only_x2speed\",\r\n    TABLE_NODRAGON: \"animation_table_nodragon\",\r\n    TABLE_DRAGON: \"animation_table_dragon\",\r\n}\r\n@ccclass\r\nexport default class TaiXiuSieuTocController extends MiniGame {\r\n\r\n\r\n    static instance: TaiXiuSieuTocController = null;\r\n    @property(cc.Node)\r\n    scrollChat: cc.Node = null;\r\n    @property(cc.Node)\r\n    chatNhanh: cc.Node = null;\r\n    @property(cc.Node)\r\n    contentChatNhanh: cc.Node = null;\r\n\r\n    @property(cc.Label)\r\n    lbTotalTai: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbTotalXiu: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbTotalBetTai: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbTotalBetXiu: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbBetXiu: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbBetTai: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbTimeCountDown: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbSession: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbTotalUserTai: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbTotalUserXiu: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbWin: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbScore: cc.Label = null;\r\n\r\n    @property([cc.Font])\r\n    listFont: cc.Font[] = [];\r\n\r\n    @property(cc.Node)\r\n    nodeBtnBet: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodeChat: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodeTxtTai: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodeTxtXiu: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    sprBtnBetXiu: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    sprBtnBetTai: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    bgGame: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    alertToast: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodeHistoryShort: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    popupContainer: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    bg_Score: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    bgLight: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodeBat: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    bgLighting: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    bgTime: cc.Node = null;\r\n\r\n    @property(cc.EditBox)\r\n    edbChat: cc.EditBox = null;\r\n\r\n    @property(cc.ScrollView)\r\n    scrChat: cc.ScrollView = null;\r\n\r\n    @property(sp.Skeleton)\r\n    dice1: sp.Skeleton = null;\r\n    @property(sp.Skeleton)\r\n    dice2: sp.Skeleton = null;\r\n    @property(sp.Skeleton)\r\n    dice3: sp.Skeleton = null;\r\n    @property(sp.Skeleton)\r\n    dragon: sp.Skeleton = null;\r\n    @property(sp.Skeleton)\r\n    table: sp.Skeleton = null;\r\n\r\n    @property([cc.SpriteFrame])\r\n    sprDots: cc.SpriteFrame[] = [];\r\n\r\n\r\n    timeInBg = 0;\r\n    currentGate = -1;\r\n    totalBet = 0;\r\n    currentBet = 0;\r\n    result = [];\r\n    totalResult = 0;\r\n    session = 0;\r\n    stateGame = 0;\r\n    isConnected = false;\r\n    listChatHistory = [];\r\n    listTimer = [];\r\n    historySession = [];\r\n    historySoiCau = [];\r\n    historyShort = [];\r\n    popups = [];\r\n    gameSubscribeId = \"\";\r\n    currentBtnBet = null;\r\n    timeConfirmBet = 1;\r\n    lastBetAmount = 0;\r\n    private popupHonor: TaiXiuSTPopupHonors = null;\r\n    private popupHistory: TaiXiuSTPopupHistory = null;\r\n    private popupGuide = null;\r\n    private popupSoiCau: TaiXiuSTPopupSoiCau = null;\r\n    private popupDetailSession: PopupDetailHistory = null;\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        super.onLoad();\r\n        // this.bgGame.on(cc.Node.EventType.TOUCH_MOVE, (touch) => {\r\n        //     this.node.position = this.node.position.add(touch.getDelta());\r\n        // })\r\n        this.nodeChat.x = cc.winSize.width;\r\n        this.nodeChat.active = false;\r\n\r\n        TaiXiuSieuTocController.instance = this;\r\n        TaiXiuSTNetworkClient.TaiXiuSieuTocController = this;\r\n        TW(this.bgLighting).repeatForever(TW().sequence(TW().to(0.5, { opacity: 0 }), TW().to(0.5, { opacity: 255 }))).start();\r\n        this.nodeBtnBet.active = false;\r\n\r\n        var self = this;\r\n        for(var i=0;i<this.contentChatNhanh.childrenCount;i++){\r\n            let node = this.contentChatNhanh.children[i];\r\n            node.on('click',function(){\r\n                self.onClickSendChatNhanh(node.children[0].getComponent(cc.Label).string);\r\n                self.scrollChat.active = true;\r\n                self.chatNhanh.active = false;\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    toggleChatNhanh(){\r\n        if(this.chatNhanh.active == false){\r\n            this.chatNhanh.active = true;\r\n            this.scrollChat.active = false;\r\n        }\r\n        else{\r\n            this.chatNhanh.active = false;\r\n            this.scrollChat.active = true;\r\n        }\r\n    }\r\n\r\n\r\n    onEnable() {\r\n        this.resetView();\r\n        this.stateGame = 0;\r\n        if (this.isConnected) {\r\n            TaiXiuSTNetworkClient.getInstance().getChatHistory();\r\n        }\r\n    }\r\n    start() {\r\n        this.setupTimeRunInBg();\r\n        // this.loginGame();\r\n        if (TaiXiuSTNetworkClient.getInstance().isConnected == false) {\r\n            TaiXiuSTNetworkClient.getInstance().connect();\r\n        }\r\n        TaiXiuSTNetworkClient.getInstance().addListener((data: Object) => {\r\n            if (this.node.active == false) {\r\n                return;\r\n            }\r\n            if (this.isConnected == false) {\r\n                this.isConnected = true;\r\n                TaiXiuSTNetworkClient.getInstance().subscribe(cmd.API.USER);\r\n                TaiXiuSTNetworkClient.getInstance().subscribe(cmd.API.DISCONNECT);\r\n                setTimeout(() => {\r\n                    TaiXiuSTNetworkClient.getInstance().getChatHistory();\r\n                }, 500);\r\n                TaiXiuSTNetworkClient.getInstance().getHistorySession();\r\n            }\r\n            let res = JSON.parse(data['body']);\r\n          \r\n            switch (res['cmd']) {\r\n                case cmd.Code.CMD_50S: {//time cuoc,time nay chay tu 47->33\r\n                    this.session = res.id;\r\n                    if (this.lbTimeCountDown.node.active == false) {\r\n                        this.lbTimeCountDown.node.active = true;\r\n                        this.lbSession.string = \"#\" + this.session;\r\n                        this.nodeBat.active = true;\r\n                        this.nodeBat.y = 9;\r\n                    }\r\n                    let timeCd = res.cd;\r\n                    let totalBetTai = res.at;\r\n                    let totalBetXiu = res.ax;\r\n                    this.result = [];\r\n                    Tween.numberTo(this.lbTotalTai, totalBetTai, 0.3);\r\n                    Tween.numberTo(this.lbTotalXiu, totalBetXiu, 0.3)\r\n                    this.lbTimeCountDown.string = (timeCd - 33) >= 10 ? (timeCd - 33).toString() : \"0\" + (timeCd - 33);\r\n                    this.lbTotalUserTai.string = res.ut;\r\n                    this.lbTotalUserXiu.string = res.ux;\r\n                    if (this.stateGame == 0 || this.stateGame == STATE_GAME.RESULT) {\r\n                        //  cc.log(\"chay vao day!\");\r\n                        this.lbTimeCountDown.node.scale = 1.0;\r\n                        this.lbTimeCountDown.node.setPosition(cc.v2(-2.7, 47));\r\n                        if (timeCd - 33 <= 5) {\r\n                            this.dragon.node.active = true;\r\n                            this.dragon.setAnimation(0, ANIM_STATE.DRAGON_X2SPEED, true);\r\n                            this.lbTimeCountDown.node.color = new cc.Color().fromHEX(\"#FF6A6A\");\r\n                        } else {\r\n                            this.dragon.node.active = false;\r\n                            this.table.setAnimation(0, ANIM_STATE.TABLE_DRAGON, true);\r\n                            this.lbTimeCountDown.node.color = cc.Color.WHITE;\r\n                        }\r\n                    }\r\n                    if (timeCd == 47) {\r\n                        this.showToast(App.instance.getTextLang('txt_bet_invite'));\r\n                    }\r\n                    if (timeCd == 33) {\r\n                        this.showToast(App.instance.getTextLang('txt_taixiu_finish'));\r\n                    }\r\n                    if (timeCd == 38) {\r\n                        this.dragon.node.active = true;\r\n                        this.dragon.setAnimation(0, ANIM_STATE.DRAGON_X2SPEED, true);\r\n                        this.table.setAnimation(0, ANIM_STATE.TABLE_NODRAGON, true);\r\n                    }\r\n                    if (timeCd < 36) {\r\n                        this.stateGame = STATE_GAME.PREPARE_RESULT;\r\n                        if (this.lbTimeCountDown.node.scale != 1) {\r\n                            cc.Tween.stopAllByTarget(this.lbTimeCountDown.node)\r\n                            this.lbTimeCountDown.node.scale = 1.0;\r\n                            this.lbTimeCountDown.node.setPosition(cc.v2(-2.745, 47));\r\n                        }\r\n                    } else {\r\n                        this.stateGame = STATE_GAME.BET;\r\n                    }\r\n                    if (timeCd < 39) {\r\n                        this.lbTimeCountDown.node.color = new cc.Color().fromHEX(\"#FF6A6A\");\r\n                    } else {\r\n                        this.lbTimeCountDown.node.color = cc.Color.WHITE;\r\n                    }\r\n                    this.dice1.node.active = false;\r\n                    this.dice2.node.active = false;\r\n                    this.dice3.node.active = false;\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_51S: { //time xem ket quả,tra ve 1 lan trong 1 phien\r\n                    this.dragon.node.active = false;\r\n                    this.table.setAnimation(0, ANIM_STATE.TABLE_NODRAGON, true);\r\n                    this.session = res.id;\r\n                    this.lbSession.string = \"#\" + this.session;\r\n                    let timeCd = res.cd;\r\n                    this.lbTimeCountDown.string = timeCd;\r\n                    this.result = res.rs;\r\n                    this.historyShort.unshift(res.rs);\r\n                    this.historySoiCau.unshift({ session: this.session, dices: res.rs })\r\n                    this.loadListHistoryShort();\r\n                    this.totalResult = this.result[0] + this.result[1] + this.result[2];\r\n                    this.showResultWin(true);\r\n                    if (this.stateGame == STATE_GAME.BET || this.stateGame == 0) {\r\n                        this.stateGame = STATE_GAME.RESULT;\r\n                    }\r\n\r\n                    this.bgTime.active = true;\r\n                    cc.Tween.stopAllByTarget(this.lbTimeCountDown.node);\r\n                    TW(this.lbTimeCountDown.node).to(0.5, { scale: 0.25, x: this.bgTime.x, y: this.bgTime.y + 8 }, { easing: cc.easing.sineIn }).start();\r\n                    TW(this.lbTimeCountDown.node).tag(1);\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_14S: { // (cd <=5-----time xem kq,cd<=23---time tung xuc xac)\r\n                    this.session = res.id;\r\n                    this.lbSession.string = \"#\" + this.session;\r\n                    if (res.cd == 23) {\r\n                        this.shakeDice();\r\n                    }\r\n                    this.result = res.rs;\r\n                    this.totalResult = this.result[0] + this.result[1] + this.result[2];\r\n                    if (res.cd <= 5) {\r\n                        this.lbTimeCountDown.node.color = new cc.Color().fromHEX(\"#FF6A6A\")\r\n                        this.bgTime.active = true;\r\n                        this.lbTimeCountDown.node.active = true;\r\n                        this.lbTimeCountDown.node.scale = 0.25;\r\n                        this.lbTimeCountDown.node.setPosition(cc.v2(this.bgTime.x, this.bgTime.y + 8));\r\n                        this.lbTimeCountDown.string = \"0\" + res.cd;\r\n                        this.stateGame = STATE_GAME.RESULT;\r\n                        this.setDice();\r\n                        this.dragon.node.active = false;\r\n                        this.table.setAnimation(0, ANIM_STATE.TABLE_NODRAGON, true);\r\n                        this.nodeBat.active = false;\r\n                    }\r\n                    if (res.cd == 0) {\r\n                        this.resetView();\r\n                    }\r\n                    this.lbTotalUserTai.string = Utils.formatNumber(res.ut);\r\n                    this.lbTotalUserXiu.string = Utils.formatNumber(res.ux);\r\n                    this.lbTotalTai.string = Utils.formatNumber(res.at);\r\n                    this.lbTotalXiu.string = Utils.formatNumber(res.ax);\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_BET: {\r\n                    //  cc.log(\"CMD_BET:\");\r\n                    if (res.data != null && res.status == 0) {\r\n                        this.showToast(App.instance.getTextLang('txt_bet_success'));\r\n                        this.lastBetAmount = res.data.betamount;\r\n                        this.totalBet += res.data.betamount;\r\n                        this.currentBet = 0;\r\n                        if (this.currentGate == 1) {\r\n                            Tween.numberTo(this.lbTotalBetTai, this.totalBet, 0.3);\r\n                        } else {\r\n                            Tween.numberTo(this.lbTotalBetXiu, this.totalBet, 0.3);\r\n                        }\r\n                        this.sprBtnBetTai.active = true;\r\n                        this.sprBtnBetXiu.active = true;\r\n                        this.lbBetTai.node.active = false;\r\n                        this.lbBetXiu.node.active = false;\r\n                        Configs.Login.Coin -= res.data.betamount;\r\n                        BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\r\n                    } else {\r\n                        this.showToast(App.instance.getTextLang('txt_bet_error2'));\r\n                    }\r\n\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_CHAT_ALL: {\r\n                    if (res.data.length > 0) {\r\n                        this.listChatHistory = res.data;\r\n                        if (this.listChatHistory.length > 15) {\r\n                            this.listChatHistory.splice(0, 15);\r\n                        }\r\n                        this.initListChat();\r\n                    }\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_CHAT: {\r\n                    this.listChatHistory.push(res);\r\n                    if (this.listChatHistory.length > 15) {\r\n                        this.listChatHistory.splice(0, 1);\r\n                    }\r\n                    this.addChat(res.u, res.m, this.listChatHistory.length - 1);\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_HISTORY: {\r\n                    //  cc.log(\"CMD_HISTORY:\");\r\n                    if (res.data.length > 0) {\r\n                        this.historySession = res.data;\r\n                        this.historySession.forEach((item) => {\r\n                            if (item.result != null) {\r\n                                this.historyShort.push(item.result);\r\n                                let data: any = {};\r\n                                data.session = item.id;\r\n                                data.dices = JSON.parse(item.result);\r\n                                this.historySoiCau.push(data);\r\n                            } else {\r\n                                //  cc.log(\"Null Result:\", item);\r\n                            }\r\n                        });\r\n                        this.loadListHistoryShort();\r\n                    }\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_TXRECORD_HISTORY: {\r\n                    //  cc.log(\"CMD_TXRECORD_HISTORY:\");\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_REFUND_USER: {\r\n                    //  cc.log(\"CMD_REFUND_USER:\");\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_WIN_USER: {\r\n                    //  cc.log(\"CMD_WIN_USER :\");\r\n                    let amount = res.amount;\r\n                    this.lbWin.string = \"+\" + Utils.formatNumber(amount);\r\n                    Configs.Login.Coin += amount;\r\n                    BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\r\n                    this.lbWin.node.active = true;\r\n                    TW(this.lbWin.node).set({ y: 300, scale: 3, opacity: 0, angle: -720 }).to(1.0, { y: 25, scale: 1.0, opacity: 255, angle: 0 }, { easing: cc.easing.sineIn }).delay(1.5).call(() => {\r\n                        this.lbWin.node.active = false;\r\n                    }).start();\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_THONGKE_PHIEN: {\r\n                    //  cc.log(\"CMD_THONGKE_PHIEN:\");\r\n                    //  cc.log(\"TXST:\", JSON.stringify(res));\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_USER_BET: {\r\n                    //  cc.log(\"CMD_USER_BET:\");\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_TOP_HONOR: {\r\n                    //  cc.log(\"CMD_TOP_HONOR:\");\r\n                    if (this.popupHonor != null && this.popupHonor.node.active) {\r\n                        if (res.status == 0 && res.data != null)\r\n                            this.popupHonor.initData(res.data);\r\n                    }\r\n                    App.instance.showLoading(false);\r\n                    break;\r\n                }\r\n                case cmd.Code.CMD_DIS_TX: {\r\n                    //  cc.log(\"CMD_DIS_TXST\");\r\n                    this.dismiss();\r\n                    break;\r\n                }\r\n            }\r\n        }, this);\r\n        BroadcastReceiver.register(BroadcastReceiver.USER_LOGOUT, () => {\r\n            if (!this.node.active) return;\r\n            this.dismiss();\r\n        }, this);\r\n\r\n    }\r\n    setupTimeRunInBg() {\r\n        cc.game.on(cc.game.EVENT_HIDE, () => {\r\n            this.timeInBg = cc.sys.now()\r\n        })\r\n\r\n        cc.game.on(cc.game.EVENT_SHOW, () => {\r\n            let timeNow = cc.sys.now()\r\n            let timeHide = this.timeInBg;\r\n            cc.director.getActionManager().update((timeNow - timeHide) / 1000);\r\n            cc.Tween.stopAllByTag(1);\r\n            if ((timeNow - timeHide) / 1000 > 15) {\r\n                this.dismiss();\r\n            }\r\n        })\r\n\r\n    };\r\n\r\n    show() {\r\n        if (this.node.active) {\r\n            this.reOrder();\r\n            return;\r\n        }\r\n        App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n        super.show();\r\n    }\r\n    dismiss() {\r\n        super.dismiss();\r\n        this.showNodeChat(false);\r\n    }\r\n    onDestroy() {\r\n        //  cc.log(\"Destroy TXST\");\r\n    }\r\n    resetView() {\r\n        //  cc.log(\"reset view\");\r\n        this.showResultWin(false);\r\n        this.bgLight.active = false;\r\n        this.nodeBat.active = false;\r\n        this.nodeBat.scale = 1;\r\n        this.lbTimeCountDown.node.active = false;\r\n        // this.nodeBtnBet.active = false;\r\n        this.dragon.node.active = false;\r\n        this.table.setAnimation(0, ANIM_STATE.TABLE_NODRAGON, true);\r\n        this.lbTotalBetXiu.string =\r\n            this.lbTotalBetTai.string =\r\n            this.lbTotalBetXiu.string =\r\n            this.lbTotalXiu.string =\r\n            this.lbTotalTai.string =\r\n            this.lbTotalUserTai.string =\r\n            this.lbTotalUserXiu.string =\r\n            this.lbBetTai.string =\r\n            this.lbBetXiu.string = \"0\";\r\n        this.sprBtnBetTai.active = true;\r\n        this.sprBtnBetXiu.active = true;\r\n        this.lbBetTai.node.active = false;\r\n        this.lbBetXiu.node.active = false;\r\n        this.lbScore.node.active = false;\r\n        this.bg_Score.active = false;\r\n        this.sprBtnBetTai.parent.getChildByName(\"boxBet\").active = false;\r\n        this.sprBtnBetXiu.parent.getChildByName(\"boxBet\").active = false;\r\n        this.totalBet = 0;\r\n        this.currentGate = -1;\r\n        this.nodeTxtTai.scale = 1.0;\r\n        this.nodeTxtXiu.scale = 1.0;\r\n        this.nodeTxtTai.angle = 0;\r\n        this.nodeTxtXiu.angle = 0;\r\n        this.lastBetAmount = 0;\r\n        this.result = [];\r\n        this.lbTimeCountDown.node.color = cc.Color.WHITE;\r\n        this.lbTimeCountDown.node.scale = 1;\r\n        this.lbTimeCountDown.node.active = false;\r\n        this.lbTimeCountDown.node.setPosition(cc.v2(-2.745, 47));\r\n        this.bgTime.active = false;\r\n        if (this.currentBtnBet != null) {\r\n            this.currentBtnBet.color = cc.Color.WHITE;\r\n        }\r\n        cc.Tween.stopAllByTag(1);\r\n    }\r\n\r\n    shakeDice() {\r\n        this.dice1.node.active = this.dice2.node.active = this.dice3.node.active = true;\r\n\r\n        this.dice1.setAnimation(0, this.getAnimationDiceStart(Utils.randomRangeInt(1, 6)), false);\r\n        this.dice2.setAnimation(0, this.getAnimationDiceStart(Utils.randomRangeInt(1, 6)), false);\r\n        this.dice3.setAnimation(0, this.getAnimationDiceStart(Utils.randomRangeInt(1, 6)), false);\r\n        // this.listTimer.push(timeOut1, timeOut2, timeOut3);\r\n        cc.Tween.stopAllByTarget(this.dice1.node);\r\n        cc.Tween.stopAllByTarget(this.dice2.node);\r\n        cc.Tween.stopAllByTarget(this.dice3.node);\r\n        TW(this.dice1.node).delay(1.5).to(0.5, { opacity: 0 }, { easing: cc.easing.sineIn }).start();\r\n        TW(this.dice2.node).delay(1.5).to(0.5, { opacity: 0 }, { easing: cc.easing.sineIn }).start();\r\n        TW(this.dice3.node).delay(1.5).to(0.5, { opacity: 0 }, { easing: cc.easing.sineIn }).start();\r\n\r\n        this.nodeBat.y = 150;\r\n        this.nodeBat.opacity = 0;\r\n        cc.Tween.stopAllByTarget(this.nodeBat);\r\n        this.nodeBat.active = true;\r\n        TW(this.nodeBat).delay(1.5)\r\n            .to(0.75, { y: 9, opacity: 255, scale: 1.0 }, { easing: cc.easing.sineOut })\r\n            .call(() => {\r\n                this.table.setAnimation(0, ANIM_STATE.TABLE_DRAGON, true);\r\n            })\r\n            .start();\r\n\r\n        TW(this.nodeBat).tag(1);\r\n        TW(this.dice3.node).tag(1);\r\n        TW(this.dice2.node).tag(1);\r\n        TW(this.dice1.node).tag(1);\r\n    }\r\n    setDice() {\r\n        if (!this.dice1.node.active || this.dice1.node.opacity != 255) {\r\n            cc.Tween.stopAllByTarget(this.nodeBat);\r\n            TW(this.nodeBat).to(0.5, { y: 100, opacity: 0, scale: 1.2 }, { easing: cc.easing.sineOut }).start();\r\n            TW(this.dice1.node).to(0.5, { opacity: 255 }, { easing: cc.easing.sineOut }).start();\r\n            TW(this.dice2.node).to(0.5, { opacity: 255 }, { easing: cc.easing.sineOut }).start();\r\n            TW(this.dice3.node).to(0.5, { opacity: 255 }, { easing: cc.easing.sineOut }).start();\r\n            TW(this.dice1.node).tag(1);\r\n            TW(this.dice3.node).tag(1);\r\n            TW(this.dice2.node).tag(1);\r\n            this.dice1.node.active = this.dice2.node.active = this.dice3.node.active = true;\r\n            this.dice1.setAnimation(0, this.getAnimationDiceEnd(this.result[0]), false);\r\n            this.dice2.setAnimation(0, this.getAnimationDiceEnd(this.result[1]), false);\r\n            this.dice3.setAnimation(0, this.getAnimationDiceEnd(this.result[2]), false);\r\n        }\r\n    }\r\n    getAnimationDiceEnd(dice) {\r\n        var anim = \"\";\r\n        if (dice == 1) anim = \"#1 END_F1\";\r\n        else if (dice == 2) anim = \"#1 END_F2\";\r\n        else if (dice == 3) anim = \"#1 END_F3\";\r\n        else if (dice == 4) anim = \"#1 END_F4\";\r\n        else if (dice == 5) anim = \"#1 END_F5\";\r\n        else if (dice == 6) anim = \"#1 END_F6\";\r\n        return anim;\r\n    }\r\n    getAnimationDiceStart(dice) {\r\n        var anim = \"\";\r\n        let listPrefix = [\"#1\", \"#2\", \"#3\"];\r\n        let ranPre = listPrefix[0];\r\n        if (dice == 1) anim = ranPre + \" WHITE_F1\";\r\n        else if (dice == 2) anim = ranPre + \" WHITE_F2\";\r\n        else if (dice == 3) anim = ranPre + \" WHITE_F3\";\r\n        else if (dice == 4) anim = ranPre + \" WHITE_F4\";\r\n        else if (dice == 5) anim = ranPre + \" WHITE_F5\";\r\n        else if (dice == 6) anim = ranPre + \" WHITE_F6\";\r\n        return anim;\r\n    }\r\n    onClick() {\r\n        this.loginGame();\r\n    }\r\n    loginGame() {\r\n\r\n    }\r\n    subcribeWS() {\r\n        TaiXiuSTNetworkClient.getInstance().connect();\r\n    }\r\n    onClickHonor() {\r\n        if (this.popupHonor == null) {\r\n            cc.assetManager.getBundle(\"TaiXiuSieuToc\").load(\"Prefabs/PopupHonors\", cc.Prefab, function (finish, total, item) {\r\n\r\n            }, (err1, prefab: cc.Prefab) => {\r\n                this.popupHonor = cc.instantiate(prefab).getComponent(\"TaiXiuST.PopupHonors\");\r\n                this.popupHonor.node.parent = this.popupContainer;\r\n                this.popupHonor.node.active = true;\r\n                this.popupHonor.show();\r\n                this.popups.push(this.popupHonor.node);\r\n            })\r\n        } else {\r\n            this.popupHonor.show();\r\n        }\r\n    }\r\n    onClickHistory() {\r\n        if (this.popupHistory == null) {\r\n            cc.assetManager.getBundle(\"TaiXiuSieuToc\").load(\"Prefabs/PopupHistory\", cc.Prefab, function (finish, total, item) {\r\n\r\n            }, (err1, prefab: cc.Prefab) => {\r\n                this.popupHistory = cc.instantiate(prefab).getComponent(\"TaiXiuST.PopupHistory\");\r\n                this.popupHistory.node.parent = this.popupContainer;\r\n                this.popupHistory.node.active = true;\r\n                this.popupHistory.show();\r\n                this.popups.push(this.popupHistory.node);\r\n            })\r\n        } else {\r\n            this.popupHistory.show();\r\n        }\r\n    }\r\n    onClickHistorySession() {\r\n\r\n        if (this.popupDetailSession == null) {\r\n            cc.assetManager.getBundle(\"TaiXiuSieuToc\").load(\"Prefabs/PopupDetailHistory\", cc.Prefab, function (finish, total, item) {\r\n\r\n            }, (err1, prefab: cc.Prefab) => {\r\n                this.popupDetailSession = cc.instantiate(prefab).getComponent(\"TaiXiuST.PopupDetailHistory\");\r\n                this.popupDetailSession.node.parent = this.popupContainer;\r\n                this.popupDetailSession.showDetail(this.session - 1);\r\n                this.popups.push(this.popupDetailSession.node);\r\n                App.instance.showLoading(false);\r\n            })\r\n        } else {\r\n            this.popupDetailSession.showDetail(this.session - 1);\r\n        }\r\n\r\n    }\r\n    onClickSoiCau() {\r\n        if (this.popupSoiCau == null) {\r\n            cc.assetManager.getBundle(\"TaiXiuSieuToc\").load(\"Prefabs/PopupSoiCau\", cc.Prefab, function (finish, total, item) {\r\n            }, (err1, prefab: cc.Prefab) => {\r\n                this.popupSoiCau = cc.instantiate(prefab).getComponent(\"TaiXiuST.PopupSoiCau\");\r\n                this.popupSoiCau.node.parent = this.popupContainer;\r\n                this.popupSoiCau.show();\r\n                this.popups.push(this.popupSoiCau.node);\r\n                App.instance.showLoading(false);\r\n            })\r\n        } else {\r\n            this.popupSoiCau.show();\r\n        }\r\n\r\n    }\r\n    onClickGuide() {\r\n        if (this.popupGuide == null) {\r\n            cc.assetManager.getBundle(\"TaiXiuSieuToc\").load(\"Prefabs/PopupGuide\", cc.Prefab, function (finish, total, item) {\r\n\r\n            }, (err1, prefab: cc.Prefab) => {\r\n                this.popupGuide = cc.instantiate(prefab).getComponent(\"Dialog\");\r\n                this.popupGuide.node.parent = this.popupContainer;\r\n                this.popupGuide.show();\r\n                this.popups.push(this.popupGuide.node);\r\n                App.instance.showLoading(false);\r\n            })\r\n        }\r\n        else {\r\n            this.popupGuide.show();\r\n        }\r\n    }\r\n    public reOrder() {\r\n        super.reOrder();\r\n    }\r\n\r\n\r\n    onClickClose() {\r\n        this.dismiss();\r\n        App.instance.hideGameMini(\"TaiXiuSieuToc\");\r\n    }\r\n    onClickChat() {\r\n        App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n        this.showNodeChat(!this.nodeChat.active);\r\n    }\r\n    onClickSendChat() {\r\n        App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n        let data: any = {}\r\n        data.u = Configs.Login.Nickname;\r\n        data.m = this.edbChat.string.trim();\r\n        this.edbChat.string = \"\";\r\n        TaiXiuSTNetworkClient.getInstance().sendChat(data);\r\n    }\r\n\r\n    onClickSendChatNhanh(msg) {\r\n        App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n        let data: any = {}\r\n        data.u = Configs.Login.Nickname;\r\n        data.m =    msg;\r\n        TaiXiuSTNetworkClient.getInstance().sendChat(data);\r\n    }\r\n    onClickBet(even, data) {\r\n        App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n        if(this.currentGate<0){\r\n            this.showToast(App.instance.getTextLang('txt_taixiu_choose_gate'));\r\n            return;\r\n        }\r\n        if (Configs.Login.Coin < parseInt(data)) {\r\n            this.showToast(App.instance.getTextLang('txt_not_enough'));\r\n            return;\r\n        }\r\n        if (this.stateGame == STATE_GAME.BET) {\r\n            let amount = parseInt(data);\r\n            this.currentBet += amount;\r\n            if (this.currentGate == 1) {\r\n                this.lbBetTai.node.active = true;\r\n                this.sprBtnBetTai.active = false;\r\n                Tween.numberTo(this.lbBetTai, this.currentBet, 0.3);\r\n            } else if (this.currentGate == 2) {\r\n                this.lbBetXiu.node.active = true;\r\n                this.sprBtnBetXiu.active = false;\r\n                Tween.numberTo(this.lbBetXiu, this.currentBet, 0.3);\r\n            }\r\n            if (this.currentBtnBet != null) {\r\n                this.currentBtnBet.color = cc.Color.WHITE;\r\n            }\r\n            this.currentBtnBet = even.target;\r\n            this.currentBtnBet.color = new cc.Color().fromHEX(\"#FFE000\");\r\n            TW(this.currentBtnBet).to(0.1, { scale: 1.2 }).to(0.1, { scale: 1.0 }).start();\r\n        } else if (this.stateGame == STATE_GAME.PREPARE_RESULT) {\r\n            this.showToast(App.instance.getTextLang('txt_bet_error8'));\r\n        } else {\r\n            this.showToast(App.instance.getTextLang('txt_bet_error3'));\r\n        }\r\n\r\n    }\r\n    onClickAllIn() {\r\n        App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n        if (Configs.Login.Coin < 1000) {\r\n            this.showToast(App.instance.getTextLang('txt_bet_error7'));\r\n            return;\r\n        }\r\n        // let dataBet: any = {};\r\n        // dataBet.taixiuId = this.session;\r\n        // dataBet.loginname = Configs.Login.Nickname;\r\n        // dataBet.betamount = Configs.Login.Coin;\r\n        // dataBet.typed = this.currentGate;\r\n        // let betFrom = 0;\r\n        // if (cc.sys.isNative) {\r\n        //     betFrom = cc.sys.os == cc.sys.OS_ANDROID ? 2 : 1;\r\n        // }\r\n        // dataBet.betfrom = betFrom;\r\n        // TaiXiuSTNetworkClient.getInstance().sendBet(dataBet)\r\n        this.onClickBet(null, Configs.Login.Coin);\r\n    }\r\n    onClickConfirmBet() {\r\n        App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n        if (this.timeConfirmBet == 0) {\r\n            let msg = App.instance.getTextLang(\"txt_notify_fast_action\");\r\n            this.showToast(msg);\r\n            return;\r\n        }\r\n        //  cc.log(\"last bet amount==\" + this.lastBetAmount);\r\n        if (this.currentGate < 0) {\r\n            this.showToast(App.instance.getTextLang('txt_taixiu_choose_gate'));\r\n            return;\r\n        }\r\n        if (this.currentBet <= 0 && this.lastBetAmount <= 0) {\r\n            this.showToast(App.instance.getTextLang('txt_bet_error9'));\r\n            return;\r\n        }\r\n        if (this.stateGame == STATE_GAME.PREPARE_RESULT) {\r\n            this.showToast(App.instance.getTextLang('txt_bet_error8'));\r\n            return;\r\n        }\r\n        if (!TaiXiuSTNetworkClient.getInstance().checkSubChannel(this.gameSubscribeId)) {\r\n            TaiXiuSTNetworkClient.getInstance().subscribe(cmd.API.USER);\r\n            this.showToast(App.instance.getTextLang('txt_bet_error2'));\r\n            return;\r\n        }\r\n        this.timeConfirmBet = 0;\r\n        this.scheduleOnce(() => {\r\n            this.timeConfirmBet = 1;\r\n        }, 1.0)\r\n        let dataBet: any = {};\r\n        dataBet.taixiuId = this.session;\r\n        dataBet.loginname = Configs.Login.Nickname;\r\n        dataBet.betamount = this.currentBet;\r\n        //  cc.log(\"last bet amount==\" + this.lastBetAmount);\r\n        if (this.currentBet == 0 && this.lastBetAmount > 0) {\r\n            dataBet.betamount = this.lastBetAmount;\r\n        }\r\n        dataBet.typed = this.currentGate;\r\n        let betFrom = 0;\r\n        if (cc.sys.isNative) {\r\n            betFrom = cc.sys.os == cc.sys.OS_ANDROID ? 2 : 1;\r\n        }\r\n        dataBet.betfrom = betFrom;\r\n        TaiXiuSTNetworkClient.getInstance().sendBet(dataBet)\r\n    }\r\n    getHistorySession() {\r\n        TaiXiuSTNetworkClient.getInstance().getHistorySession()\r\n    }\r\n    onClickCancelBet() {\r\n        App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n        // this.showNodeBtnBet(false);\r\n        this.sprBtnBetTai.active = true;\r\n        this.sprBtnBetXiu.active = true;\r\n        this.lbBetXiu.node.active = false;\r\n        this.lbBetTai.node.active = false;\r\n        this.currentBet = 0;\r\n    }\r\n    setTimeCountDown(data) {\r\n\r\n    }\r\n    onClickChooseGate(even, data) {\r\n        App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\r\n        if (this.currentGate != -1 && this.totalBet) {\r\n            if ((data == \"TAI\" && this.currentGate == 2) || (data == \"XIU\" && this.currentGate == 1)) {\r\n                this.showToast(App.instance.getTextLang('txt_taixiu_chat_error4'));\r\n                return;\r\n            }\r\n        }\r\n        if (this.stateGame == STATE_GAME.RESULT) {\r\n            this.showToast(App.instance.getTextLang('txt_bet_error3'));\r\n            return;\r\n        } else if (this.stateGame == STATE_GAME.PREPARE_RESULT) {\r\n            this.showToast(App.instance.getTextLang('txt_bet_error8'));\r\n            return;\r\n        }\r\n        switch (data) {\r\n            case \"TAI\":\r\n                this.currentGate = 1;\r\n                this.currentBet = 0;\r\n                this.lbBetTai.string = \"0\";\r\n                this.lbBetXiu.node.active = false;\r\n                this.lbBetTai.node.active = true;\r\n                this.sprBtnBetTai.parent.getChildByName(\"boxBet\").active = true;\r\n                this.sprBtnBetXiu.parent.getChildByName(\"boxBet\").active = false;\r\n                this.sprBtnBetTai.active = false;\r\n                this.sprBtnBetXiu.active = true;\r\n                break;\r\n            case \"XIU\":\r\n                this.currentGate = 2;\r\n                this.currentBet = 0;\r\n                this.lbBetXiu.string = \"0\";\r\n                this.lbBetTai.node.active = false;\r\n                this.lbBetXiu.node.active = true;\r\n                this.sprBtnBetTai.active = true;\r\n                this.sprBtnBetXiu.active = false;\r\n                this.sprBtnBetTai.parent.getChildByName(\"boxBet\").active = false;\r\n                this.sprBtnBetXiu.parent.getChildByName(\"boxBet\").active = true;\r\n                break;\r\n        }\r\n        this.showNodeBtnBet(true);\r\n    }\r\n    showNodeBtnBet(state) {\r\n        if (this.nodeBtnBet.active == false && state) {\r\n            this.nodeBtnBet.active = true;\r\n            for (let i = 0; i < 8; i++) {\r\n                let btnBet = this.nodeBtnBet.children[i];\r\n                let timeDelay = 0.05 * i;\r\n                btnBet.scale = 0;\r\n                cc.tween(btnBet).sequence(cc.tween().delay(timeDelay), cc.tween().to(0.1, { scale: 1.0 }, { easing: cc.easing.backOut })).start();\r\n                // btnBet.runAction(cc.sequence(cc.delayTime(timeDelay), cc.scaleTo(0.1, 1)));\r\n            }\r\n        } else if (!state) {\r\n            this.nodeBtnBet.active = false;\r\n        }\r\n    }\r\n    showNodeChat(state) {\r\n        if (state) {\r\n            this.nodeChat.active = true;\r\n            TW(this.nodeChat).set({ x: cc.winSize.width, opacity: 0 }).to(0.3, { x: 558.03, opacity: 255 }, { easing: cc.easing.sineOut }).start();\r\n        } else {\r\n            TW(this.nodeChat).to(0.3, { x: cc.winSize.width, opacity: 0 }, { easing: cc.easing.sineIn }).call(() => {\r\n                this.nodeChat.active = false;\r\n            }).start();\r\n        }\r\n\r\n    }\r\n    showResultWin(state) {\r\n        if (state) {\r\n            let acScale1 = TW().to(0.25, { scale: 1.2 });\r\n            let acRotate1 = TW().to(0.125, { angle: 10 });\r\n            let acRotate2 = TW().to(0.125, { angle: 0 });\r\n            let acRotate3 = TW().to(0.125, { angle: -10 });\r\n            let acRotate4 = TW().to(0.125, { angle: 0 });\r\n            let acScale2 = TW().to(0.25, { scale: 1.0 });\r\n            let acSeqRo1 = TW().sequence(acRotate1, acRotate2, acRotate3, acRotate4, acScale2);\r\n            this.lbScore.string = this.totalResult.toString();\r\n            this.lbScore.node.active = true;\r\n            this.bg_Score.active = true;\r\n            this.bgLight.active = true;\r\n            if (this.totalResult > 10) {\r\n                TW(this.nodeTxtTai).repeat(5, TW().sequence(TW().delay(0.5), TW().parallel(acScale1, acSeqRo1))).start();\r\n                this.bgLight.x = this.nodeTxtTai.x;\r\n            } else {\r\n                this.bgLight.x = this.nodeTxtXiu.x;\r\n                TW(this.nodeTxtXiu).repeat(5, TW().sequence(TW().delay(0.5), TW().parallel(acScale1, acSeqRo1))).start();\r\n            }\r\n\r\n        } else {\r\n            cc.Tween.stopAllByTarget(this.nodeTxtTai);\r\n            cc.Tween.stopAllByTarget(this.nodeTxtXiu);\r\n            this.nodeTxtTai.scale = 1.0;\r\n            this.nodeTxtXiu.scale = 1.0;\r\n        }\r\n\r\n    }\r\n    loadListHistoryShort() {\r\n        let dataHis = this.historyShort.slice(0, 18).reverse();\r\n        for (let i = 0; i < dataHis.length; i++) {\r\n            let item = this.nodeHistoryShort.children[i];\r\n            if (!item) {\r\n                item = cc.instantiate(this.nodeHistoryShort.children[0]);\r\n                this.nodeHistoryShort.addChild(item);\r\n            }\r\n            let data = typeof dataHis[i] == \"string\" ? JSON.parse(dataHis[i]) : dataHis[i];\r\n            let result = data[0] + data[1] + data[2];\r\n            item.getComponent(cc.Sprite).spriteFrame = result > 10 ? this.sprDots[0] : this.sprDots[1];\r\n            if (result > 10) {\r\n                item.setContentSize(cc.size(23, 23));\r\n            } else {\r\n                item.setContentSize(cc.size(26, 26));\r\n            }\r\n            item.active = true;\r\n            item.y = 0;\r\n            TW(item).set({ scale: 0 }).delay(0.01 * i).to(0.3, { scale: 1.0 }, { easing: cc.easing.backOut })\r\n                .call(() => {\r\n                    if (this.nodeHistoryShort.children.indexOf(item) == 17) {\r\n                        TW(item)\r\n                            .repeatForever(TW()\r\n                                .sequence(TW()\r\n                                    .to(0.5, { y: 10 }), TW().to(0.5, { y: 0 })))\r\n                            .start();\r\n                    }\r\n                })\r\n                .start();\r\n\r\n        }\r\n    }\r\n    showToast(msg) {\r\n        this.alertToast.getComponentInChildren(cc.Label).string = msg;\r\n        this.alertToast.active = true;\r\n        cc.Tween.stopAllByTarget(this.alertToast);\r\n        // TW(this.alertToast).set({ y: -25 }).to(1.5, { y: 25 }).call(() => {\r\n        //     this.alertToast.active = false;\r\n        // }).start();\r\n        TW(this.alertToast).set({ x: -300, opacity: 0 })\r\n            .to(0.3, { x: 0, opacity: 255 }, { easing: cc.easing.sineOut })\r\n            .delay(1.4)\r\n            .to(0.3, { x: 300, opacity: 0 }, { easing: cc.easing.backIn }).call(() => {\r\n                this.alertToast.active = false;\r\n            }).start();\r\n        TW(this.alertToast).tag(1);\r\n\r\n    }\r\n    initListChat() {\r\n        this.scrChat.content.on(cc.Node.EventType.CHILD_ADDED, () => {\r\n            // if (this.scrChat.content.y > 0) {\r\n            //     this.scrChat.scrollToBottom(0.3);\r\n            // }\r\n            this.onScrollChatEvent();\r\n        });\r\n        if (this.scrChat.content.childrenCount == 1) {\r\n            for (let i = 1; i < 15; i++) {\r\n                this.scrChat.content.addChild(cc.instantiate(this.scrChat.content.children[0]));\r\n            }\r\n        }\r\n        for (let i = 0; i < this.listChatHistory.length; i++) {\r\n            let data = this.listChatHistory[i];\r\n            this.addChat(data.u, data.m, i);\r\n        }\r\n        this.showNodeChat(true);\r\n\r\n    }\r\n    reloadListChat() {\r\n\r\n    }\r\n\tactTransaction() {\r\n            if (!Configs.Login.IsLogin) {\r\n                App.instance.alertDialog.showMsg(App.instance.getTextLang('txt_need_login'));\r\n                return;\r\n            }\r\n            if (!this.popupTransaction) {\r\n                let cb = (prefab) => {\r\n                    let popupDaily = cc.instantiate(prefab).getComponent(\"Lobby.PopupTransaction\");\r\n                    App.instance.node.addChild(popupDaily.node)\r\n                    this.popupTransaction = popupDaily;\r\n                    this.popupTransaction.show();\r\n                }\r\n                BundleControl.loadPrefabPopup(\"PrefabPopup/PopupTransaction\", cb);\r\n            } else {\r\n                this.popupTransaction.show();\r\n            }\r\n        }\r\n    addChat(u, m, index) {\r\n        let item = this.scrChat.content.children[index];\r\n        if (!item) {\r\n            item = cc.instantiate(this.scrChat.content.children[0]);\r\n            this.scrChat.content.addChild(item);\r\n        }\r\n        item.active = true;\r\n        item.opacity = 255;\r\n        let name = u;\r\n        if (name.length > 10)\r\n            name = name.substring(0, 7) + \"..\";\r\n        m = m.replace(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '');\r\n        item.getComponent(cc.Label).string = name + \" : \" + m;\r\n        item.children[0].getComponent(cc.Label).string = name + \" : \";\r\n        // this.onScrollChatEvent();\r\n        if (this.scrChat.content.childrenCount >= 15) {\r\n            this.scrChat.content.children[0].destroy();\r\n        }\r\n    }\r\n    onScrollChatEvent() {\r\n        for (let i = 0; i < this.scrChat.content.childrenCount; i++) {\r\n            let item = this.scrChat.content.children[i];\r\n            let view = this.scrChat.node.getChildByName(\"view\");\r\n            let posWorld = this.scrChat.content.convertToWorldSpaceAR(item.getPosition());\r\n            let posInView = view.convertToNodeSpaceAR(posWorld);\r\n            if (posInView.y > view.height + item.height * 2 || posInView.y < -item.height) {\r\n                item.opacity = 0;\r\n            } else {\r\n                item.opacity = 255;\r\n            }\r\n        }\r\n    }\r\n    // update (dt) {}\r\n}\r\n"],"file":"index.js"}